<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Edit Book</title>
</head>
<body>
<form th:action="@{/books}"
      th:object="${book}"
      method="post">

    <input type="hidden" th:field="*{id}"/>

    <div>
        <label>Title:</label>
        <input type="text" th:field="*{title}"/>
        <br>
        <span class = "error"
              th:if="${#fields.hasErrors('title')} ? 'error-field'"
              th:errors="*{title}">
        </span>
    </div>
    <div>
        <label>Author:</label>
        <input type="text" th:field="*{author}"/>
        <br>
        <span class = "error"
              th:if="${#fields.hasErrors('author')} ? 'error-field'"
              th:errors="*{author}">
        </span>
    </div>
    <div>
        <label>Price:</label>
        <input type="text" th:field="*{price}"/>
        <br>
        <span class = "error"
              th:if="${#fields.hasErrors('price')} ? 'error-field'"
              th:errors="*{price}">
        </span>
    </div>
    <div>
        <label>Amount:</label>
        <input type="text" th:field="*{amount}"/>
        <br>
        <span class = "error"
              th:if="${#fields.hasErrors('amount')} ? 'error-field'"
              th:errors="*{amount}">
        </span>
    </div>
    <button type="submit">Save</button>
    <a th:href="@{/books}">Back</a>
    <style>
        /* ===== Base ===== */
        * { box-sizing: border-box; }

        body{
          min-height: 100vh;
          margin: 0;
          display: grid;
          place-items: center;
          padding: 40px 16px;
          font-family: "Inter", "Segoe UI", Arial, sans-serif;
          background: #1e1e1e;
          color: #e6e6e6;
        }

        @media (prefers-color-scheme: light){
          body{
            background: #f5f7fa;
            color: #222;
          }
        }

        /* ===== Form Card ===== */
        form{
          width: min(560px, 100%);
          background: #2b2b2b;
          border: 1px solid #3a3a3a;
          border-radius: 16px;
          padding: 28px 26px;
          box-shadow: 0 12px 30px rgba(0,0,0,0.25);
        }

        @media (prefers-color-scheme: light){
          form{
            background: #fff;
            border-color: #e5e7eb;
            box-shadow: 0 12px 30px rgba(0,0,0,0.08);
          }
        }

        /* ===== Title (если захочешь добавить <h2>) ===== */
        h2{
          margin: 0 0 18px;
          font-size: 24px;
          font-weight: 700;
          letter-spacing: 0.2px;
        }

        /* ===== Fields ===== */
        form > div{
          margin-bottom: 14px;
        }

        label{
          display: inline-block;
          margin-bottom: 6px;
          font-weight: 600;
          font-size: 14px;
          opacity: 0.95;
        }

        input[type="text"]{
          width: 100%;
          padding: 10px 12px;
          border-radius: 10px;
          border: 1px solid #4a4a4a;
          background: #202020;
          color: #fff;
          outline: none;
          transition: border-color .2s ease, box-shadow .2s ease, transform .05s ease;
        }

        input[type="text"]:focus{
          border-color: #4caf50;
          box-shadow: 0 0 0 4px rgba(76, 175, 80, 0.18);
        }

        @media (prefers-color-scheme: light){
          input[type="text"]{
            background: #fff;
            color: #111;
            border-color: #d1d5db;
          }
          input[type="text"]:focus{
            border-color: #3a7bd5;
            box-shadow: 0 0 0 4px rgba(58, 123, 213, 0.18);
          }
        }

        /* ===== Error text ===== */
        .error{
          display: block;
          margin-top: 6px;
          font-size: 13px;
          color: #ff6b6b;
          line-height: 1.35;
        }

        /* Если захочешь подсвечивать инпуты вручную через класс */
        .error-field{
          border-color: #ff6b6b !important;
          box-shadow: 0 0 0 4px rgba(255, 107, 107, 0.12) !important;
        }

        /* ===== Actions ===== */
        button[type="submit"]{
          margin-top: 10px;
          padding: 10px 16px;
          border: none;
          border-radius: 10px;
          background: linear-gradient(135deg, #4CAF50, #2ecc71);
          color: #fff;
          font-weight: 700;
          cursor: pointer;
          transition: transform .15s ease, box-shadow .2s ease, filter .2s ease;
        }

        button[type="submit"]:hover{
          transform: translateY(-1px);
          box-shadow: 0 10px 18px rgba(0,0,0,0.25);
          filter: brightness(1.02);
        }

        button[type="submit"]:active{
          transform: translateY(0);
        }

        a[href*="/books"]{
          display: inline-block;
          margin-left: 10px;
          padding: 10px 14px;
          border-radius: 10px;
          text-decoration: none;
          font-weight: 600;
          color: #d0d0d0;
          background: #3a3a3a;
          border: 1px solid #4a4a4a;
          transition: background .2s ease, transform .15s ease, color .2s ease;
        }

        a[href*="/books"]:hover{
          background: #444;
          transform: translateY(-1px);
        }

        @media (prefers-color-scheme: light){
          a[href*="/books"]{
            background: #eef2f7;
            border-color: #d1d5db;
            color: #333;
          }
          a[href*="/books"]:hover{
            background: #e6ebf3;
          }
        }
    </style>
</body>
</html>
